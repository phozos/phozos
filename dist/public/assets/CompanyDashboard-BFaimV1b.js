import{j as e}from"./ui-D4qm5_HU.js";import{r as g}from"./vendor--0RGCJ5T.js";import{b as E}from"./query-DwD54YTm.js";import{F as D,G as k,J as f,K as A,Q as T,V as N,ab as S,Y as B,af as L,B as n,ag as F,Z as I,_ as M,$ as R,a0 as U,I as u,o as V,C as l,e as r,f as c,O as j,g as d,ak as Y,ae as q,ah as Q,P as y,x as H,W as $,w as K}from"./index-BNOyMxPp.js";import{B as O}from"./building-CLZWwjGm.js";function X(){const{user:t}=D(),{toast:p}=k(),v=E(),[w,x]=g.useState(!1),[i,m]=g.useState({companyName:(t==null?void 0:t.companyName)||"",description:"",website:"",industry:""}),{data:s,isLoading:W}=f(["/api/company/stats"],"/api/company/stats",void 0,{enabled:!!t}),{data:o,isLoading:b}=f(["/api/company/recent-posts"],"/api/company/recent-posts",void 0,{enabled:!!t}),h=A(async a=>await K.patch("/api/company/profile",a),{onSuccess:()=>{p({title:"Profile updated",description:"Your company profile has been updated successfully."}),v.invalidateQueries({queryKey:["/api/auth/me"]}),x(!1)},onError:()=>{p({title:"Error",description:"Failed to update company profile.",variant:"destructive"})}}),C=()=>{h.mutate(i)};if(!t)return null;const P=t.companyName||`${t.firstName} ${t.lastName}`;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(T,{}),e.jsxs("div",{className:"container mx-auto px-4 py-8 pt-24",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-primary rounded-lg flex items-center justify-center",children:e.jsx(O,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:P}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsxs(N,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[e.jsx(S,{className:"w-3 h-3 mr-1"}),"Premium Company Profile"]}),e.jsx(N,{variant:"outline",children:"Enhanced Forum Access"})]})]})]}),e.jsxs(B,{open:w,onOpenChange:x,children:[e.jsx(L,{asChild:!0,children:e.jsxs(n,{variant:"outline",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})}),e.jsxs(I,{children:[e.jsxs(M,{children:[e.jsx(R,{children:"Edit Company Profile"}),e.jsx(U,{children:"Update your company information and branding"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Company Name"}),e.jsx(u,{value:i.companyName,onChange:a=>m({...i,companyName:a.target.value}),placeholder:"Your company name",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(V,{value:i.description,onChange:a=>m({...i,description:a.target.value}),placeholder:"Brief description of your company",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Website"}),e.jsx(u,{value:i.website,onChange:a=>m({...i,website:a.target.value}),placeholder:"https://yourcompany.com",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Industry"}),e.jsx(u,{value:i.industry,onChange:a=>m({...i,industry:a.target.value}),placeholder:"Education, Technology, etc.",className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(n,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),e.jsx(n,{onClick:C,disabled:h.isPending,children:h.isPending?"Saving...":"Save Changes"})]})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(l,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Total Posts"}),e.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.totalPosts)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(s==null?void 0:s.recentPosts)||0," this week"]})]})]}),e.jsxs(l,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Total Views"}),e.jsx(Y,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.totalViews)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all posts"})]})]}),e.jsxs(l,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Engagement"}),e.jsx(q,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.totalLikes)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total likes received"})]})]}),e.jsxs(l,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Reach"}),e.jsx(Q,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Math.round((s==null?void 0:s.engagementRate)||0),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Engagement rate"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs(l,{children:[e.jsx(r,{children:e.jsxs(c,{className:"flex items-center",children:[e.jsx(j,{className:"w-5 h-5 mr-2"}),"Community Engagement"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"Share updates, insights, and engage with students in the community forum."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{className:"w-full",onClick:()=>window.location.href="/community",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Create New Post"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("p",{className:"font-medium mb-1",children:"Your Enhanced Privileges:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[e.jsx("li",{children:"Unlimited daily posts"}),e.jsx("li",{children:"Photo and media uploads"}),e.jsx("li",{children:"Interactive polls"}),e.jsx("li",{children:"Custom post titles"}),e.jsx("li",{children:"No cooling periods"})]})]})]})]})]}),e.jsxs(l,{children:[e.jsx(r,{children:e.jsxs(c,{className:"flex items-center",children:[e.jsx(H,{className:"w-5 h-5 mr-2"}),"Analytics & Insights"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"Track your community impact and engagement metrics."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"This week's posts:"}),e.jsx("span",{className:"font-medium",children:(s==null?void 0:s.recentPosts)||0})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Average engagement:"}),e.jsxs("span",{className:"font-medium",children:[Math.round((s==null?void 0:s.engagementRate)||0),"%"]})]}),e.jsxs(n,{variant:"outline",className:"w-full",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"View Detailed Analytics"]})]})]})]})]}),e.jsxs(l,{children:[e.jsx(r,{children:e.jsx(c,{children:"Recent Forum Activity"})}),e.jsx(d,{children:b?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(a=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},a))}):(o==null?void 0:o.length)>0?e.jsxs("div",{className:"space-y-4",children:[o.slice(0,5).map(a=>e.jsxs("div",{className:"border-l-4 border-primary pl-4",children:[e.jsx("h4",{className:"font-medium",children:a.title||a.content.substring(0,50)+"..."}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.likesCount," likes • ",a.commentsCount," comments • ",a.viewsCount," views"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(a.createdAt).toLocaleDateString()})]},a.id)),e.jsx(n,{variant:"outline",onClick:()=>window.location.href="/community",children:"View All Posts"})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(j,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No posts yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start engaging with the community by creating your first post."}),e.jsxs(n,{onClick:()=>window.location.href="/community",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Create Your First Post"]})]})})]})]})]})}export{X as default};
