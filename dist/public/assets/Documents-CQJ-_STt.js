import{j as e}from"./ui-D4qm5_HU.js";import{r as n}from"./vendor--0RGCJ5T.js";import{c as _,a as $,a2 as T,B as x,X as ae,a3 as u,G as te,J as re,K as I,Q as q,N as le,Y as Q,af as H,Z as R,_ as P,$ as K,a0 as G,p as ne,q as ie,r as oe,s as de,t as ce,aN as me,C as f,g as b,al as J,aJ as W,e as xe,f as ue,T as he,h as ge,i as Z,k as pe,V as E,ak as je,a4 as fe,a1 as be,aQ as Ne,w as Y}from"./index-BNOyMxPp.js";import{b as ve}from"./query-DwD54YTm.js";import{I as X}from"./image-B3fWv8k3.js";import{T as ye}from"./trash-2-BG6rtAPd.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=_("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=_("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);function De({onFilesSelect:i,maxFiles:v=5,maxSize:o=10,acceptedTypes:p=[".pdf",".doc",".docx",".jpg",".jpeg",".png"],className:F,multiple:h=!0}){const[l,j]=n.useState([]),[d,y]=n.useState(!1),[w,c]=n.useState(""),M=s=>{var t;if(s.size>o*1024*1024)return c(`File "${s.name}" is too large. Maximum size is ${o}MB.`),!1;const a="."+((t=s.name.split(".").pop())==null?void 0:t.toLowerCase());return p.includes(a)?!0:(c(`File type "${a}" is not supported.`),!1)},g=n.useCallback(s=>{c("");const a=Array.from(s);if(!h&&a.length>1){c("Only one file is allowed.");return}if(l.length+a.length>v){c(`Maximum ${v} files allowed.`);return}const t=[];if(a.forEach(r=>{if(M(r)){const m={file:r,id:Math.random().toString(36).substring(7)};if(r.type.startsWith("image/")){const V=new FileReader;V.onload=ee=>{var A;m.preview=(A=ee.target)==null?void 0:A.result,j(se=>se.map(L=>L.id===m.id?m:L))},V.readAsDataURL(r)}t.push(m)}}),t.length>0){const r=[...l,...t];j(r),i(r.map(m=>m.file))}},[l,v,h,i,o,p]),U=n.useCallback(s=>{s.preventDefault(),y(!1),g(s.dataTransfer.files)},[g]),z=n.useCallback(s=>{s.preventDefault(),y(!0)},[]),B=n.useCallback(s=>{s.preventDefault(),y(!1)},[]),D=n.useCallback(s=>{s.target.files&&g(s.target.files)},[g]),k=s=>{const a=l.filter(t=>t.id!==s);j(a),i(a.map(t=>t.file))},C=s=>s.type.startsWith("image/")?e.jsx(X,{className:"w-6 h-6"}):s.type.includes("pdf")?e.jsx(u,{className:"w-6 h-6"}):e.jsx(O,{className:"w-6 h-6"}),S=s=>{if(s===0)return"0 Bytes";const a=1024,t=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(s)/Math.log(a));return parseFloat((s/Math.pow(a,r)).toFixed(2))+" "+t[r]};return e.jsxs("div",{className:$("space-y-4",F),children:[e.jsxs("div",{onDrop:U,onDragOver:z,onDragLeave:B,className:$("file-upload-zone rounded-xl p-8 text-center transition-all duration-300 cursor-pointer","border-2 border-dashed border-border hover:border-primary","bg-muted/50 hover:bg-primary/5",d&&"border-primary bg-primary/10 scale-105"),children:[e.jsx("input",{type:"file",multiple:h,accept:p.join(","),onChange:D,className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center",children:e.jsx(T,{className:"w-8 h-8 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Drag & drop your files here"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"or click to browse"}),e.jsx(x,{type:"button",variant:"outline",children:"Choose Files"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Supports ",p.join(", ")," (Max ",o,"MB each)"]})]})})]}),w&&e.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:e.jsx("p",{className:"text-sm text-destructive",children:w})}),l.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium text-foreground",children:["Uploaded Files (",l.length,")"]}),e.jsx("div",{className:"space-y-2",children:l.map(s=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-card border border-border rounded-lg",children:[s.preview?e.jsx("img",{src:s.preview,alt:s.file.name,className:"w-10 h-10 object-cover rounded"}):e.jsx("div",{className:"w-10 h-10 flex items-center justify-center text-muted-foreground",children:C(s.file)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:s.file.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:S(s.file.size)})]}),e.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>k(s.id),className:"text-muted-foreground hover:text-destructive",children:e.jsx(ae,{className:"w-4 h-4"})})]},s.id))})]})]})}const ke={id:"user-1",firstName:"John",lastName:"Doe",email:"john.doe@example.com",userType:"customer"},N={transcript:{label:"Academic Transcripts",icon:u,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20"},test_score:{label:"Test Scores",icon:u,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-900/20"},essay:{label:"Essays & Letters",icon:u,color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20"},recommendation:{label:"Recommendations",icon:u,color:"text-amber-600",bgColor:"bg-amber-50 dark:bg-amber-900/20"},resume:{label:"Resume/CV",icon:u,color:"text-teal-600",bgColor:"bg-teal-50 dark:bg-teal-900/20"},certificate:{label:"Certificates",icon:u,color:"text-indigo-600",bgColor:"bg-indigo-50 dark:bg-indigo-900/20"},other:{label:"Other Documents",icon:O,color:"text-gray-600",bgColor:"bg-gray-50 dark:bg-gray-900/20"}};function ze(){var C,S;n.useState(ke);const[i,v]=n.useState("all"),[o,p]=n.useState(""),[F,h]=n.useState(!1),{toast:l}=te(),j=ve(),{data:d=[],isLoading:y}=re(["/api/documents"],"/api/documents",void 0,{staleTime:2*60*1e3}),w=I(async s=>Y.post("/api/documents",s),{onSuccess:()=>{j.invalidateQueries({queryKey:["/api/documents"]}),h(!1),l({title:"Document uploaded",description:"Your document has been successfully uploaded."})},onError:s=>{l({title:"Error",description:s.message||"Failed to upload document",variant:"destructive"})}}),c=I(async s=>Y.delete(`/api/documents/${s}`),{onSuccess:()=>{j.invalidateQueries({queryKey:["/api/documents"]}),l({title:"Document deleted",description:"Document has been successfully deleted."})},onError:s=>{l({title:"Error",description:s.message||"Failed to delete document",variant:"destructive"})}}),M=s=>s.startsWith("image/")?X:s.includes("pdf")?u:O,g=s=>{if(s===0)return"0 Bytes";const a=1024,t=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(s)/Math.log(a));return parseFloat((s/Math.pow(a,r)).toFixed(2))+" "+t[r]},U=s=>s==="all"?d:d.filter(a=>a.type===s),z=()=>{const s={all:d.length};return Object.keys(N).forEach(a=>{s[a]=d.filter(t=>t.type===a).length}),s},B=s=>{s.length===0||!o||s.forEach(a=>{const t={type:o,name:a.name,fileName:a.name,fileSize:a.size,mimeType:a.type,filePath:`/uploads/${a.name}`,description:`Uploaded ${a.name}`,tags:[o]};w.mutate(t)})},D=z(),k=U(i);return y?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(q,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsx(le,{type:"card",count:4})})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(q,{}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Document Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Upload, organize, and manage your application documents"})]}),e.jsxs(Q,{open:F,onOpenChange:h,children:[e.jsx(H,{asChild:!0,children:e.jsxs(x,{children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Upload Documents"]})}),e.jsxs(R,{className:"max-w-2xl",children:[e.jsxs(P,{children:[e.jsx(K,{children:"Upload Documents"}),e.jsx(G,{children:"Select document type and upload your files"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Document Type"}),e.jsxs(ne,{value:o,onValueChange:p,children:[e.jsx(ie,{children:e.jsx(oe,{placeholder:"Select document type"})}),e.jsx(de,{children:Object.entries(N).map(([s,a])=>e.jsx(ce,{value:s,children:a.label},s))})]})]}),o&&e.jsx(De,{onFilesSelect:B,maxFiles:5,maxSize:10,acceptedTypes:[".pdf",".doc",".docx",".jpg",".jpeg",".png"]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(me,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"AI-Powered Features"})]}),e.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:[e.jsx("li",{children:"• Automatic document categorization"}),e.jsx("li",{children:"• OCR text extraction and searchability"}),e.jsx("li",{children:"• Quality assessment and recommendations"})]})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(f,{children:e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsx(u,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Documents"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:d.length})]})]})})}),e.jsx(f,{children:e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsx(J,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Verified"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:d.filter(s=>s.isVerified).length})]})]})})}),e.jsx(f,{children:e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:e.jsx(W,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending Review"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:d.filter(s=>!s.isVerified).length})]})]})})}),e.jsx(f,{children:e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:e.jsx(T,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Storage Used"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:g(d.reduce((s,a)=>s+a.fileSize,0))})]})]})})})]}),e.jsxs(f,{children:[e.jsx(xe,{children:e.jsx(ue,{children:"My Documents"})}),e.jsx(b,{children:e.jsxs(he,{value:i,onValueChange:v,children:[e.jsxs(ge,{className:"mb-6 flex-wrap h-auto",children:[e.jsxs(Z,{value:"all",children:["All (",D.all,")"]}),Object.entries(N).map(([s,a])=>e.jsxs(Z,{value:s,children:[a.label," (",D[s]||0,")"]},s))]}),e.jsx(pe,{value:i,children:k.length>0?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(s=>{var r;const a=M(s.mimeType),t=N[s.type];return e.jsx(f,{className:"hover:shadow-md transition-shadow",children:e.jsxs(b,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 ${t==null?void 0:t.bgColor} rounded-lg`,children:e.jsx(a,{className:`w-6 h-6 ${t==null?void 0:t.color}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-foreground truncate",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.label})]})]}),s.isVerified?e.jsxs(E,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300",children:[e.jsx(J,{className:"w-3 h-3 mr-1"}),"Verified"]}):e.jsxs(E,{variant:"outline",className:"text-amber-600 border-amber-200",children:[e.jsx(W,{className:"w-3 h-3 mr-1"}),"Pending"]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Size:"}),e.jsx("span",{className:"text-foreground",children:g(s.fileSize)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Uploaded:"}),e.jsx("span",{className:"text-foreground",children:new Date(s.createdAt).toLocaleDateString()})]}),((r=s.metadata)==null?void 0:r.qualityScore)&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Quality:"}),e.jsxs("span",{className:"text-foreground",children:[Math.round(s.metadata.qualityScore),"%"]})]})]}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:s.tags.map(m=>e.jsx(E,{variant:"secondary",className:"text-xs",children:m},m))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(x,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(je,{className:"w-3 h-3 mr-1"}),"View"]}),e.jsxs(x,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"Download"]}),e.jsxs(Q,{children:[e.jsx(H,{asChild:!0,children:e.jsx(x,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:e.jsx(ye,{className:"w-3 h-3"})})}),e.jsxs(R,{children:[e.jsxs(P,{children:[e.jsx(K,{children:"Delete Document"}),e.jsxs(G,{children:['Are you sure you want to delete "',s.name,'"? This action cannot be undone.']})]}),e.jsxs(be,{children:[e.jsx(x,{variant:"outline",children:"Cancel"}),e.jsx(x,{variant:"destructive",onClick:()=>c.mutate(s.id),disabled:c.isPending,children:c.isPending?"Deleting...":"Delete"})]})]})]})]})]})},s.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(we,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:i==="all"?"No documents uploaded":`No ${(C=N[i])==null?void 0:C.label.toLowerCase()} uploaded`}),e.jsx("p",{className:"text-muted-foreground mb-4",children:i==="all"?"Upload your first document to get started":`Upload your ${(S=N[i])==null?void 0:S.label.toLowerCase()} here`}),e.jsxs(x,{onClick:()=>h(!0),children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Upload Document"]})]})})]})})]})]}),e.jsx(Ne,{})]})}export{ze as default};
